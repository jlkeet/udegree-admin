<!-- <nb-card>
  <nb-card-header> Plans </nb-card-header>
  <nb-card-body>
    <button class="" (click)="getPendingPlans(); showPlans = true"> Get Pending Plans </button>
    <div *ngIf="showPlans">
      <div *ngFor="let displayPendingPlans of pendingPlans">
        {{ displayPendingPlans.email }}
        <button (click)="displayUserPlans(displayPendingPlans.email); displayPlans = true">Show Plan</button>

        <div *ngIf="displayPlans">
          <div *ngFor="let courses of userCourses">
            {{ courses.name }}
          </div>
        </div>
      </div>
    </div> -->




<nb-card>
  <nb-card-header> Audit Log </nb-card-header>
  <nb-card-body>
    <button (click)="plansService.getFilteredFac()">Filter</button>
    <table mat-table [dataSource]="plansService.approvedPlans">

      <ng-container matColumnDef="time">
        <th mat-header-cell *matHeaderCellDef> Time </th>
        <td mat-cell *matCellDef="let element; let i = index;"> {{plansService.approvedPlans[i].timestamp}} </td>
      </ng-container>

      <!-- Time Column -->
      <ng-container matColumnDef="admin">
        <th mat-header-cell *matHeaderCellDef> Administrator </th>
        <td mat-cell *matCellDef="let element; let i = index;"> {{plansService.approvedPlans[i].admin}} </td>
      </ng-container>

      <!-- Administrator Column -->
      <ng-container matColumnDef="student">
        <th mat-header-cell *matHeaderCellDef> Student </th>
        <td mat-cell *matCellDef="let element; let i = index;"> {{plansService.approvedPlans[i].email}} </td>
      </ng-container>

      <!-- Event Column -->
      <ng-container matColumnDef="event">
        <th mat-header-cell *matHeaderCellDef> Event Type </th>
        <td mat-cell *matCellDef="let element; let i = index;">
          {{plansService.approvedPlans[i].faculty}}</td>
      </ng-container>

      <!-- Change Column -->
      <ng-container matColumnDef="change">
        <th mat-header-cell *matHeaderCellDef> Change </th>
        <td mat-cell *matCellDef="let element; let i = index;">
          {{plansService.approvedPlans[i].department}}</td>
      </ng-container>


      <!-- Item Column -->
      <ng-container matColumnDef="item">
        <th mat-header-cell *matHeaderCellDef> Item Affected </th>
        <td mat-cell *matCellDef="let element; let i = index;"> {{plansService.approvedPlans[i].date}} </td>
      </ng-container>


      <!-- Action Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Action Summary </th>
        <td mat-cell *matCellDef="let element"> <button>Show more</button></td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>


  </nb-card-body>
</nb-card>